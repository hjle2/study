# Spring API JSON 공부하기

## 톰캣 구동,(web.xml)
스프링 프로젝트를 구동하면 WAS가 먼저 구동되고, WAS의 서블릿 컨테이너인 Web.xml이 구동 된다.

## Context Path 설정하기
톰캣의 server.xml 파일을 보면 path에 접속 경로를 매핑시킬 수 있다.

## 루트 컨테이너 생성
구동될 때 참조하는 설정 파일은 프로젝트 내부의 "WEB-INF/web.xml"파일.
루트 컨테이너는 어플리케니션(프로젝트 단위)에 딱 하나 생기는 최상위 부모 컨테이너
스프링 컨테이너는 루트 컨테이너가 하나, 각 서블릿이 하나씩 가지는 컨테이너, 그리고 개발자가 직접 생성하는 컨테이너까지 3 가지의 종류가 있다.

루트 컨테이너에서는 웹기술과 관계 없는 자원에 대한 빈을 만들어 관리한다.
디폴트로는 "root-context.xml"파일을 param으로 제공해주지만 필요 시 새로운 파일을 만들어 param으로 추가할 수 있다.
어플리케이션 컨텍스트 라고도 부른다.

루트와 서블릿용 컨테이너는 스프링 구조에 따라 설정 파일에 있는 내용대로 자동으로 생성된다.
개발자가 관여하는 부분은 없다.
루트 컨테이너에서 모든 서블릿들에게 공유할 전역 설정과 빈을 생성해 사용한다.
서블릿용 컨테이너에서는 해당 서블릿 고유 설정과 빈을 생성해 사용한다.
서블릿용 컨테이너는 루트 컨테이너의 자식이며, 부모 컨테이너로부터 필요한 것을 가져와 사용할 수 있지만, 그 반대는 불가능 하다.

## URL 매핑
서블릿 컨테이너가 클라이언트로부터 URL 요청을 받았을 때 어떤 서블릿 클래스로 넘겨줄지 매핑해주는 설정이다.
원래 개발자가 직접 서블릿을 만들었었지만, 스프링에서는 "DispatcherServelet"클래스를 제공해준다.
param을 통해 서블릿 생성시 서블릿 컨테이너의 설정 파일을 설정할 수 있다.

## 필터 설정 적용
필터 설정은 서블릿으로 요청(클라이언트의 URL 요청)이 들어가기 전, 그리고 최종 응답 전에 공통적으로 수행되어야 할 기능을 구현해주는 설정.
가장 필수적이면서 많이 쓰는 용도가 인코딩 이다.
필터 설정 덕분에 기존 섯블릿에서 일일이 요청객체마다 처리해주던 인코딩을 별도로 할 필요가 없다.
그 외에 스프링 시큐리티 등 여러 공통 처리에 대한 필터 설정 가능.

## 클라이언트 요청에 따른 서블릿 구동
서블릿 컨테이너(WAS)가 구동되면, 웹 어플리케이션은 클라이언트 요청을 기다리고 있는 상태가 된다.

## DispatcherServlet 로드 및 스프링 컨테이너 생성
첫 요청이 들어오면, 서블릿 컨테이너가 URL이 매핑된 서블릿을 찾아 메모리에 로드 시킵니다.
스프링 MVC 프로젝트에서는 프론트 컨트롤러의 서블릿 역할로 이미 스프링에서 만들어둔 "DispatcherServlet"클래스를 사용하게 된다.

처음 서블릿 구동시 초기화 파라미터로 "sevlet-context.xml"파일을 넘겨주고, 서블릿은 이 설정대로 동작한다.
필요시 xml파일을 추가하여 param으로 추가할 수 있다.
서블릿용 컨테이너를 생성해 서블릿 구동에 필요한 핸들러, 컨트롤러 등의 빈 객체를 갖는다.

## servlet-context.xml의 설정대로 기능 분배



